<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8">
  <title>Flora Kalimantan</title>
  <style>
    body { font-family: Arial, sans-serif; margin: 20px; }
    nav a { margin-right: 10px; text-decoration: none; color: green; }
    .card { border: 1px solid #ccc; padding: 10px; margin: 5px; border-radius: 5px; }
  </style>
</head>
<body>
  <header>
    <h1>ðŸŒ¿ Flora Kalimantan</h1>
    <nav>
      <a href="index.html">Home</a>
      <a href="flora.html">Flora</a>
      <a href="fauna.html">Fauna</a>
    </nav>
  </header>

  <main>
    <h2>Daftar Famili</h2>
    <ul id="family-list"></ul>

    <h2 id="selected-family"></h2>
    <div id="species-list"></div>
  </main>
<details>
  <summary>Dipterocarpaceae</summary>
  <ul>
    <li>
      <details>
        <summary>Shorea</summary>
        <ul>
          <li>Shorea leprosula</li>
          <li>Shorea parvifolia</li>
          <li>Shorea johorensis</li>
        </ul>
      </details>
    </li>
    <li>
      <details>
        <summary>Dipterocarpus</summary>
        <ul>
          <li>Dipterocarpus gracilis</li>
          <li>Dipterocarpus alatus</li>
        </ul>
      </details>
    </li>
  </ul>
</details>

<details>
  <summary>Myrtaceae</summary>
  <ul>
    <li>
      <details>
        <summary>Syzygium</summary>
        <ul>
          <li>Syzygium aromaticum</li>
          <li>Syzygium cumini</li>
        </ul>
      </details>
    </li>
  </ul>
</details>

  <script>
    const SHEET_URL = "https://docs.google.com/spreadsheets/d/e/2PACX-1vSbaeJ5hXMMBW73nlY26ZOogUXY5xNesVvbGnWAzOoX6l3yqOtpABGfumMo1QsHgOupSjE-dBvj5W-l/pub?output=csv";

    async function loadData() {
      let res = await fetch(SHEET_URL);
      let csv = await res.text();
      let rows = csv.split("\n").map(r => r.split(","));
      let header = rows[0];
      let data = rows.slice(1).map(r => {
        let obj = {};
        header.forEach((h, i) => obj[h.trim()] = r[i]);
        return obj;
      });

      // Ambil daftar Family unik
      let families = [...new Set(data.map(d => d.Family))];

      let list = document.getElementById("family-list");
      families.forEach(fam => {
        let li = document.createElement("li");
        let a = document.createElement("a");
        a.href = "#";
        a.textContent = fam;
        a.onclick = () => showFamily(fam, data);
        li.appendChild(a);
        list.appendChild(li);
      });
    }

    function showFamily(family, data) {
      document.getElementById("selected-family").textContent = "Family: " + family;
      let container = document.getElementById("species-list");
      container.innerHTML = "";

      let filtered = data.filter(d => d.Family === family);
      filtered.forEach(d => {
        let div = document.createElement("div");
        div.className = "card";
        div.innerHTML = `
          <h3>${d.Genus} ${d.Spesies}</h3>
          <p><b>Nama Lokal:</b> ${d["Nama Lokal"]}</p>
          <p><b>Deskripsi:</b> ${d.Deskripsi}</p>
          <p><b>Status IUCN:</b> ${d["Status IUCN"]}</p>
          <p><b>CITES:</b> ${d.CITES}</p>
          <p><b>P.106:</b> ${d["P.106"]}</p>
          <p><b>Lokasi:</b> ${d.Lokasi}</p>
          ${d["Link Foto"] ? `<img src="${d["Link Foto"]}" width="200">` : ""}
        `;
        container.appendChild(div);
      });
    }

    loadData();
  </script>
</body>
</html>


